---
title: 数组大全
date: 2019-06-02 10:05:37
tags: 
- 前端
- 数组
categories:
- JavaScript
---

介绍数组的使用方法

---  
<!--more-->

## 1. 数组定义

数组即有序的元素序列，用数组下标区分数组中的元素

ECMAScript数组与其他语言不同的是，ECMAScript数组的每一项可以保存任何类型的数据，而且数组的大小可以动态调整，随数据的增加自动增长

## 2. 创建数组

两种方式：1.Array构造函数 2.数组字面量表示法

例1: 

```JavaScript
var names = new Array(); //创建一个空数组

var names = Array(); //省略new,创建一个空数组

var names = new Array(10); //创建了长度为10的数组

var names = new Array('Danny'); //数组中包含一项"Danny"的数组
```

例2:

```JavaScript
var colors = []; //创建一个空数组

var colors = ['red','blue','yellow'] //创建一个包含3个字符串的数组
```

## 3. 检测数组

1. 引用数据类型判断：`instanceof`

```javascript
    if(value instanceof Array) {
        //对数组执行某些操作
    }
```

这种方法适用于一个网页或者一个全局作用域而言，网页中存在多个框架实际上存在多个全局变量，从而存在两个以上不同版本的`Array`构造函数

2. `Array.isArray()`方法,解决上述问题

```javascript
    if(Array.isArray(value)) {
        //对数组执行某些操作
    }
```
3. 使用`toString()`检测对象类型

可以通过`toString()` 来获取每个对象的类型。为了每个对象都能通过 `Object.prototype.toString()` 来检测，需要以 `Function.prototype.call()` 或者 `Function.prototype.apply()` 的形式来调用，传递要检查的对象作为第一个参数，称为`thisArg` (来自MDN)

```javascript
Object.prototype.toString.call([]) //[object Array]


const isType = type => target => `[object ${type}]` === Object.prototype.toString.call(target)

const isArray = isType('Array')

console.log(isArray([])) // true
```
使用 Object.prototype.toString 配合闭包，通过传入不同的判断类型来返回不同的判断函数

## 4. 转换方法


## 5. 迭代方法：不改变原数组

1. every() 所有都符合条件返回true，否则返回false

```javascript
    let arr = [1,2,3,4,5]
    let isTrue = arr.every((item,index,array) => {
        return item > 3
    }) // isTrue = false
```

2. some() 只要有符合条件的就返回true，都不符合返回false

```javascript
    let arr = [1,2,3,4,5]
    let isTrue = arr.some((item,index,array) => {
        return item > 3
    }) // isTrue = true
```

3. filter()筛选返回符合条件的数组

```javascript
    let arr = [1,2,3,4,5]
    let newArr = arr.filter((item,index,array) => {
        return item > 3
    })  //newArr = [4,5]
```

4. map() 对整个数组进行操作

```javascript
    let arr = [1,2,3,4,5]
    let newArr = arr.map((item,index,array) => {
        return item + 2
    })  //newArr = [3, 4, 5, 6, 7]
```

5. forEach() 遍历数组，对数组进行操作，没有返回值

```javascript
    let arr = [1,2,3,4,5]
    arr.forEach((item,index,array) => {
        console.log(index)
    }) //依次输出0 1 2 3 4 
```

